<!DOCTYPE html>
<html lang="es" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title data-translate="meta.title">Naturafy - Smart Plant Care</title>
  <meta name="description" content="Tecnología que conecta con la naturaleza. Controla tu maceta inteligente desde la app y únete a un futuro más verde." data-translate="meta.description"/>
  <style>
    :root{
      --green:#4CAF50;
      --green-700:#2d5016;
      --green-600:#4a7c59;
      --earth:#8D6E63;
      --bg:#f5f5f5;
      --text:#333;
      --muted:#666;
      --shadow:0 10px 20px rgba(0,0,0,.12);
      --radius:20px;
      --ease:cubic-bezier(.4,0,.2,1);
    }
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text)}
    /* NAV */
    nav{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);padding:1.2rem 2rem;box-shadow:0 8px 32px rgba(0,0,0,.08);position:fixed;top:0;left:0;right:0;z-index:1000;border-bottom:1px solid rgba(255,255,255,.2)}
    .nav-content{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:1rem}
    .logo{font-size:1.5rem;font-weight:900;background:linear-gradient(135deg,var(--green-700),var(--green));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:.3px;display:flex;align-items:center;gap:.5rem;transition:transform .3s ease}
    .logo:hover{transform:scale(1.05)}
    .logo svg{filter:drop-shadow(0 2px 4px rgba(76,175,80,.3))}
    .nav-links{display:flex;list-style:none;gap:1.5rem;background:rgba(255,255,255,.6);padding:.8rem 1.5rem;border-radius:50px;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3)}
    .nav-links a{color:#475569;text-decoration:none;font-weight:600;opacity:.8;transition:all .3s var(--ease);padding:.5rem 1rem;border-radius:25px;position:relative;overflow:hidden}
    .nav-links a:hover,.nav-links a.active{color:var(--green);opacity:1;background:rgba(76,175,80,.1);transform:translateY(-2px)}
    .nav-links a:before{content:'';position:absolute;bottom:0;left:50%;width:0;height:2px;background:linear-gradient(90deg,var(--green),#2d5016);transition:all .3s ease;transform:translateX(-50%)}
    .nav-links a:hover:before,.nav-links a.active:before{width:80%}
  /* Uniform navbar buttons */
  .download-btn,
  .nav-link.login{display:inline-flex;align-items:center;justify-content:center;height:42px;padding:0 22px;border-radius:14px;font-size:.9rem;font-weight:700;white-space:nowrap}

  /* Primary CTA: Registro (filled) */
  .download-btn{background:linear-gradient(135deg,var(--green),#2d5016);color:#fff;box-shadow:0 8px 18px rgba(76,175,80,.25);transition:all .3s var(--ease);border:none;cursor:pointer;position:relative;overflow:hidden;text-decoration:none !important}
  .download-btn:hover,.download-btn:focus,.download-btn:visited{outline:none;text-decoration:none !important}
  .download-btn:hover{transform:translateY(-2px);box-shadow:0 10px 24px rgba(76,175,80,.35);background:linear-gradient(135deg,#2d5016,var(--green))}
  .download-btn:before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.25),transparent);transition:left .5s ease}
  .download-btn:hover:before{left:100%}
    
    /* Modern Language Dropdown */
    .lang-dropdown{position:relative;margin-right:.75rem}
    .lang-current{background:rgba(255,255,255,.3);border:1px solid rgba(255,255,255,.4);color:#475569;padding:.6rem 1rem;border-radius:12px;font-size:.85rem;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:.4rem;backdrop-filter:blur(15px);transition:all .3s var(--ease);min-width:65px;justify-content:center}
    .lang-current:hover{border-color:rgba(76,175,80,.3);background:rgba(255,255,255,.4);transform:translateY(-1px);color:var(--green)}
    .lang-current:after{content:'▼';font-size:.6rem;color:#64748b;transition:transform .25s ease}
    .lang-current.open:after{transform:rotate(180deg)}
    .lang-menu{position:absolute;top:120%;right:0;background:rgba(255,255,255,.95);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.3);border-radius:12px;box-shadow:0 15px 35px rgba(0,0,0,.15);list-style:none;padding:.5rem;min-width:140px;display:none;z-index:1001;overflow:hidden}
    .lang-menu.show{display:block;animation:dropdownSlide .25s ease-out}
    @keyframes dropdownSlide{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
    .lang-menu li{padding:.6rem 1rem;border-radius:8px;cursor:pointer;color:#475569;font-weight:600;transition:all .2s ease;font-size:.85rem}
    .lang-menu li:hover{background:linear-gradient(135deg,var(--green),#2d5016);color:#fff;transform:translateX(2px)}
    .lang-menu li.active{background:rgba(76,175,80,.1);color:var(--green);font-weight:700}
    
  /* Secondary CTA: Iniciar sesión (outline) */
  .nav-link.login{color:var(--green-700);text-decoration:none;transition:all .3s var(--ease);position:relative;margin-right:0;background:transparent;border:1.5px solid rgba(76,175,80,.35);box-shadow:0 3px 10px rgba(76,175,80,.08)}
  .nav-link.login:hover{color:var(--green);background:rgba(76,175,80,.08);border-color:var(--green);transform:translateY(-1px)}
  .nav-link.login:before{content:'';position:absolute;bottom:6px;left:50%;width:0;height:2px;background:var(--green);transition:all .3s ease;transform:translateX(-50%)}
  .nav-link.login:hover:before{width:80%}
    
    /* Nav Actions Container */
  .nav-actions{display:flex;align-items:center;gap:1.1rem}
    /* TABS */
    .tab-content{display:none;min-height:100vh;margin-top:80px;animation:fadeIn .45s var(--ease)}
    .tab-content.active{display:block}
    @keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
    /* HERO */
    .hero{background:url('./assets/home.png') center right/cover no-repeat;min-height:100vh;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}
    .hero:before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(76,175,80,.05) 0%,transparent 60%);pointer-events:none}
    .hero-content{max-width:1200px;display:grid;grid-template-columns:1fr 1fr;gap:4rem;padding:3rem 2rem;align-items:center;z-index:1}
    .hero-text{background:rgba(255,255,255,.9);backdrop-filter:blur(15px);border-radius:24px;padding:3rem;border:1px solid rgba(255,255,255,.4);box-shadow:0 25px 50px rgba(0,0,0,.15);max-width:600px}
    .hero-text h1{font-size:clamp(2.2rem,4vw,3.5rem);background:linear-gradient(135deg,var(--green-700) 0%,var(--green) 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:1.5rem;font-weight:900;line-height:1.15;letter-spacing:-.02em}
    .hero-text p{font-size:1.2rem;color:#475569;margin-bottom:2rem;font-weight:500;line-height:1.6}
    .cta-buttons{display:flex;gap:1rem;flex-wrap:wrap}
    .btn-primary{background:linear-gradient(135deg,var(--green) 0%,#2d5016 100%);color:#fff;padding:1.2rem 2.5rem;border-radius:50px;text-decoration:none;font-weight:800;display:inline-flex;align-items:center;gap:.75rem;box-shadow:0 15px 35px rgba(76,175,80,.3);transition:all .3s var(--ease);border:none;cursor:pointer;position:relative;overflow:hidden}
    .btn-primary:hover{transform:translateY(-4px);box-shadow:0 20px 45px rgba(76,175,80,.4);background:linear-gradient(135deg,#2d5016 0%,var(--green) 100%)}
    .btn-primary:before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .6s ease}
    .btn-primary:hover:before{left:100%}
    .btn-secondary{background:rgba(255,255,255,.9);color:var(--green);border:2px solid rgba(76,175,80,.3);padding:1.2rem 2.5rem;border-radius:50px;text-decoration:none;font-weight:800;transition:all .3s var(--ease);backdrop-filter:blur(10px)}
    .btn-secondary:hover{background:rgba(76,175,80,.1);border-color:var(--green);transform:translateY(-4px);box-shadow:0 15px 35px rgba(76,175,80,.2)}
    /* FEATURES HERO */
    .features-hero{background:linear-gradient(135deg,rgba(74,124,89,.95) 0%,rgba(45,80,22,.95) 100%),url('assets/plant.webp') center/cover;min-height:70vh;display:flex;align-items:center;justify-content:center;padding:6rem 2rem;position:relative;overflow:hidden}
    .features-hero:before{content:'';position:absolute;inset:0;background:radial-gradient(circle at 30% 70%,rgba(255,255,255,.1) 0%,transparent 50%);pointer-events:none}
    .features-hero-content{max-width:900px;text-align:center;color:#fff;background:rgba(255,255,255,.1);backdrop-filter:blur(20px);padding:3rem;border-radius:24px;border:1px solid rgba(255,255,255,.2)}
    .features-hero-content h1{font-size:2.8rem;margin-bottom:1.5rem;font-weight:900;letter-spacing:-.02em}
    .features-hero-content p{font-size:1.2rem;opacity:.95;margin-bottom:2rem;line-height:1.6}
  .btn-green{background:linear-gradient(135deg,var(--green) 0%,#2d5016 100%);color:#fff;padding:1.2rem 2.5rem;border-radius:50px;text-decoration:none;font-weight:800;display:inline-flex;align-items:center;gap:.75rem;transition:all .3s var(--ease);box-shadow:0 15px 35px rgba(76,175,80,.3);border:none;cursor:pointer;position:relative;overflow:hidden}
  .btn-green:hover{transform:translateY(-4px);box-shadow:0 20px 45px rgba(76,175,80,.4);background:linear-gradient(135deg,#2d5016 0%,var(--green) 100%)}
  .btn-green:before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .6s ease}
  .btn-green:hover:before{left:100%}
  .btn-green:focus{outline:none}
  .btn-green:focus-visible{outline:none;box-shadow:0 0 0 4px rgba(76,175,80,.3),0 20px 45px rgba(76,175,80,.4)}
    .btn-green.centered{display:block;width:max-content;margin:1.5rem auto 0}
    /* HOW IT WORKS */
  .how-it-works{max-width:1000px;margin:4rem auto;padding:2rem}
  .section-subtitle{font-size:2.2rem;background:linear-gradient(135deg,var(--green-700),var(--green));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:2rem;text-align:center;font-weight:900}
  .steps-container{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);border-radius:24px;padding:2.5rem 2rem;box-shadow:0 25px 50px rgba(0,0,0,.1);border:1px solid rgba(255,255,255,.3);position:relative;overflow:hidden}
  .steps-container:before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--green),#6bc975,var(--green));opacity:.8}
  .process-progress{width:100%;height:4px;background:rgba(76,175,80,.1);border-radius:999px;margin:0 0 2rem;overflow:hidden;position:relative}
  .progress-fill{height:100%;background:linear-gradient(90deg,var(--green),#6bc975);border-radius:999px;width:0%;transition:width .8s var(--ease);box-shadow:0 0 15px rgba(76,175,80,.5)}
  .step-item{display:flex;align-items:flex-start;gap:1.5rem;padding:1.5rem 0;position:relative;opacity:.6;transform:translateX(-10px);transition:all .4s var(--ease);border-radius:16px;margin-bottom:.5rem}
  .step-item.active,.step-item.completed{opacity:1;transform:translateX(0);background:rgba(76,175,80,.05);padding:1.5rem;box-shadow:0 8px 25px rgba(76,175,80,.1)}
  .step-number{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:3px solid #e2e8f0;display:flex;align-items:center;justify-content:center;font-weight:900;color:#64748b;flex-shrink:0;transition:all .4s var(--ease);box-shadow:0 4px 15px rgba(0,0,0,.1)}
  .step-item.active .step-number{background:linear-gradient(135deg,var(--green),#2d5016);border-color:var(--green);color:#fff;box-shadow:0 8px 25px rgba(76,175,80,.3);transform:scale(1.1)}
  .step-item.completed .step-number{background:linear-gradient(135deg,var(--green),#2d5016);border-color:var(--green);color:transparent;position:relative;box-shadow:0 8px 25px rgba(76,175,80,.3)}
  .step-item.completed .step-number:after{content:'✓';position:absolute;inset:0;display:grid;place-items:center;color:#fff;font-size:1.2rem;font-weight:900}

  .step-text h3{color:var(--green-700);margin-bottom:.5rem;font-size:1.2rem;font-weight:800}
  .step-item.active .step-text h3{color:var(--green)}
  .step-text p{color:#64748b;line-height:1.7;font-size:1rem}
    .description-text{color:var(--muted);text-align:center;max-width:800px;margin:1.25rem auto 0;line-height:1.75}
    /* SMART CARE */
  .smart-care-section{background:linear-gradient(135deg,#f8fdf9 0%,#f0f9ff 100%);padding:5rem 2rem}
    .powered-by{text-align:center;max-width:900px;margin:0 auto 3rem}
    .powered-by h3{font-size:2.2rem;background:linear-gradient(135deg,var(--green-700),var(--green));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:1rem;font-weight:900}
    .powered-by p{color:#64748b;font-size:1.1rem;line-height:1.6}
    .smart-features-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem;max-width:1200px;margin:0 auto}
  .smart-feature{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);padding:2rem;border-radius:20px;text-align:center;box-shadow:0 15px 35px rgba(0,0,0,.08);border:1px solid rgba(255,255,255,.3);transition:all .3s var(--ease);position:relative;overflow:hidden}
  .smart-feature:hover{transform:translateY(-8px);box-shadow:0 25px 50px rgba(0,0,0,.15)}
  .smart-feature:before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--green),#6bc975);opacity:0;transition:opacity .3s ease}
  .smart-feature:hover:before{opacity:1}
  .smart-icon{font-size:2.5rem;margin-bottom:1rem;filter:drop-shadow(0 4px 8px rgba(76,175,80,.3))}
  .smart-feature h4{color:var(--green-700);margin-bottom:.75rem;font-size:1.2rem;font-weight:800}
  .smart-feature p{color:#64748b;line-height:1.6;font-size:1rem}
    /* FUNCIONALIDADES */
  .funcionalidades-details{max-width:1000px;margin:4rem auto;padding:0 2rem}
  .functionality-row{display:block;background:rgba(255,255,255,.95);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.3);border-radius:20px;padding:2rem 2.5rem;margin-bottom:1.5rem;box-shadow:0 15px 35px rgba(0,0,0,.08);transition:all .3s var(--ease);position:relative;overflow:hidden}
  .functionality-row:hover{transform:translateY(-5px);box-shadow:0 25px 50px rgba(0,0,0,.12)}
  .functionality-row:before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--green),#6bc975);opacity:0;transition:opacity .3s ease}
  .functionality-row:hover:before{opacity:1}
  .functionality-row.reverse{direction:ltr}
  .functionality-text h3{color:var(--green-700);font-size:1.3rem;margin-bottom:.75rem;font-weight:800}
  .functionality-text p{color:#64748b;line-height:1.7;font-size:1.05rem}
  .functionality-image{display:none}
  .icon-placeholder{display:none}
    /* MACETY AI (se mantiene tu estética futurista) */
    .macety-section{background:linear-gradient(135deg,#0a0a0a 0%,#1a1a2e 25%,#16213e 50%,#0f3460 75%,#1a1a2e 100%);min-height:100vh;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center;padding:4rem 2rem}
    .macety-section::before{content:'';position:absolute;inset:0;background:
      radial-gradient(circle at 20% 80%,rgba(76,175,80,.1) 0%,transparent 50%),
      radial-gradient(circle at 80% 20%,rgba(45,80,22,.1) 0%,transparent 50%),
      radial-gradient(circle at 40% 40%,rgba(0,200,255,.05) 0%,transparent 50%);
      animation:float-bg 20s ease-in-out infinite}
    @keyframes float-bg{0%,100%{transform:translateY(0)}50%{transform:translateY(-18px)}}
    .macety-container{max-width:1400px;width:100%;display:grid;grid-template-columns:1fr 1fr;gap:4rem;align-items:center;position:relative;z-index:2}
    .macety-content{color:#fff;padding:1rem}
    .macety-badge{display:inline-block;background:linear-gradient(135deg,rgba(76,175,80,.22),rgba(45,80,22,.32));border:1px solid rgba(76,175,80,.35);padding:.45rem 1.2rem;border-radius:999px;font-size:.85rem;font-weight:800;margin-bottom:1.25rem;backdrop-filter:blur(10px);animation:glow 3s ease-in-out infinite}
    @keyframes glow{0%,100%{box-shadow:0 0 16px rgba(76,175,80,.35)}50%{box-shadow:0 0 26px rgba(76,175,80,.6)}}
    .macety-title{font-size:clamp(2.2rem,5vw,4rem);font-weight:900;background:linear-gradient(135deg,#fff 0%,#4CAF50 50%,#00c8ff 100%);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:1rem;line-height:1.08;animation:text-glow 4s ease-in-out infinite}
    @keyframes text-glow{0%,100%{filter:brightness(1)}50%{filter:brightness(1.2)}}
    .macety-subtitle{font-size:1.15rem;color:rgba(255,255,255,.9);margin-bottom:1.25rem;line-height:1.65;font-weight:400}
    .macety-features{display:flex;flex-direction:column;gap:1rem;margin:1.5rem 0}
    .macety-feature{display:flex;align-items:center;gap:.9rem;padding:.9rem 1.1rem;background:rgba(255,255,255,.05);border-radius:15px;border:1px solid rgba(76,175,80,.25);backdrop-filter:blur(10px);opacity:0;transform:translateY(18px);animation:fadeUp .8s var(--ease) forwards}
    .macety-feature:nth-child(1){animation-delay:.15s}.macety-feature:nth-child(2){animation-delay:.3s}.macety-feature:nth-child(3){animation-delay:.45s}.macety-feature:nth-child(4){animation-delay:.6s}
    @keyframes fadeUp{to{opacity:1;transform:translateY(0)}}
    .feature-icon{width:24px;height:24px;border-radius:50%;background:linear-gradient(135deg,var(--green),#00c8ff);display:grid;place-items:center;color:#fff;font-size:.8rem;font-weight:800}
    .feature-text{font-size:1rem;color:rgba(255,255,255,.92)}
    .macety-cta{display:inline-flex;align-items:center;gap:.7rem;background:linear-gradient(135deg,var(--green),#00c8ff);color:#fff;padding:.9rem 1.8rem;border-radius:999px;text-decoration:none;font-weight:900;font-size:1.05rem;transition:all .25s var(--ease);box-shadow:0 12px 28px rgba(76,175,80,.35);position:relative;overflow:hidden}
    .macety-cta:hover{transform:translateY(-2px);box-shadow:0 16px 36px rgba(76,175,80,.45)}
    .macety-visual{display:flex;align-items:center;justify-content:center;padding:1rem}
    .macety-ai-container{position:relative;width:380px;height:380px;border-radius:50%;background:linear-gradient(135deg,rgba(76,175,80,.10),rgba(0,200,255,.12)),radial-gradient(circle,rgba(76,175,80,.06) 0%,transparent 70%);border:2px solid rgba(76,175,80,.35);display:grid;place-items:center;overflow:hidden}
    /* Sensor scan overlay (conic wedge) */
    .macety-ai-container::after{content:"";position:absolute;inset:-2px;border-radius:50%;background:conic-gradient(from 0deg, rgba(0,200,255,.18) 0deg, rgba(0,200,255,0) 40deg 360deg);animation:sweep 4s linear infinite;mix-blend-mode:screen;pointer-events:none;filter:blur(0.2px)}
    /* Soft grid/rings for sensor feel */
    .macety-ai-container::before{content:"";position:absolute;inset:14px;border-radius:50%;background:
      radial-gradient(circle at center, rgba(255,255,255,.12) 1px, transparent 1px);
      background-size:22px 22px;opacity:.12;mix-blend-mode:screen;pointer-events:none}
    @keyframes sweep{to{transform:rotate(360deg)}}
    .macety-image{width:280px;height:280px;border-radius:50%;object-fit:cover;box-shadow:0 0 0 3px rgba(255,255,255,.08),0 0 28px rgba(0,200,255,.22),0 0 60px rgba(76,175,80,.35),inset 0 0 60px rgba(76,175,80,.12);animation:float 6s ease-in-out infinite;filter:saturate(1.06) contrast(1.06)}
    @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-14px)}}
    /* RESOURCES */
  .resources-section{background:#f7faf9;min-height:100vh;display:flex;align-items:center;padding:4rem 2rem}
    .resources-container{max-width:1400px;margin:0 auto;display:grid;grid-template-columns:1fr 1fr;gap:4rem;align-items:center}
    .resources-title{font-size:clamp(2rem,4vw,3.2rem);font-weight:900;color:#1a1a1a;line-height:1.2;margin-bottom:1rem}
    .resources-description{font-size:1.05rem;color:var(--muted);line-height:1.65;margin-bottom:1.5rem;max-width:540px}
  .store-buttons{display:flex;gap:.6rem;flex-wrap:wrap;margin-top:.5rem}
  .store-btn{display:inline-flex;align-items:center;gap:.5rem;padding:.8rem 1.2rem;border-radius:12px;border:1px solid #e5e7eb;background:#fff;color:#1f2937;font-weight:700;font-size:.95rem;text-decoration:none;transition:transform .2s var(--ease),box-shadow .2s var(--ease)}
  .store-btn:hover{transform:translateY(-1px);box-shadow:0 6px 16px rgba(0,0,0,.06)}
  .macety-img{width:clamp(220px,40vw,360px);height:auto;object-fit:contain;border-radius:16px;border:1px solid #e5e7eb;box-shadow:0 10px 24px rgba(0,0,0,.08);filter:none;animation:none}
  .resources-visual{display:flex;align-items:center;justify-content:center}
  /* COMMUNITY */
  .new-community-section{background:linear-gradient(135deg,#f8fdf9 0%,#f0f9ff 100%);min-height:100vh;padding:6rem 2rem}
  .community-container{max-width:1400px;margin:0 auto;text-align:center}
  .community-main-title{font-size:3rem;font-weight:900;background:linear-gradient(135deg,var(--green-700),var(--green));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:3rem}
  .community-showcase{display:grid;grid-template-columns:repeat(3,1fr);gap:2rem;margin:0 auto 2rem;max-width:1200px}
  .showcase-card{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);border-radius:24px;overflow:hidden;box-shadow:0 15px 35px rgba(0,0,0,.1);border:1px solid rgba(255,255,255,.3);padding:20px;transition:all .3s var(--ease);position:relative}
  .showcase-card:hover{transform:translateY(-8px);box-shadow:0 25px 50px rgba(0,0,0,.15)}
  .showcase-card:before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--green),#6bc975);opacity:0;transition:opacity .3s ease}
  .showcase-card:hover:before{opacity:1}
  .showcase-image{height:clamp(250px,30vw,400px);border-radius:20px;overflow:hidden;position:relative;display:block;margin-bottom:1.5rem}
  .green-bg{background:linear-gradient(135deg,var(--green-700),var(--green-600))}
  .light-bg{background:linear-gradient(135deg,#f8fafc,#e2e8f0)}
  .sage-bg{background:linear-gradient(135deg,#6b8f71,#8fb08c)}
  .showcase-plant{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center center;display:block}
  .showcase-plant.center,.showcase-plant.tall{object-fit:cover;object-position:center center}
  .plant-brand{position:absolute;top:15px;left:15px;font-size:.85rem;font-weight:900;letter-spacing:.1em;color:#eaf7ed;opacity:.95;background:rgba(0,0,0,.3);padding:.5rem 1rem;border-radius:20px;backdrop-filter:blur(10px)}
  .showcase-info{padding:1rem 0 0;text-align:left}
  .showcase-info h3{font-size:1.2rem;font-weight:900;color:#111827;margin-bottom:.5rem}
  .showcase-info p{color:#64748b;line-height:1.7;font-size:1rem}
  .community-tagline{max-width:900px;margin:0 auto 2rem;color:#64748b;font-size:1.1rem;line-height:1.6}
  .community-actions{display:flex;justify-content:center;gap:1.5rem;margin-top:1.5rem}
  .btn-light{background:rgba(255,255,255,.9);color:var(--green-700);border:2px solid rgba(76,175,80,.2);padding:1.2rem 2rem;border-radius:50px;text-decoration:none;font-weight:800;transition:all .3s var(--ease);backdrop-filter:blur(10px)}
  .btn-light:hover{transform:translateY(-4px);box-shadow:0 15px 35px rgba(0,0,0,.1);background:rgba(76,175,80,.1);border-color:var(--green)}
    /* CONTACT + FOOTER */
  .contact-section{max-width:1100px;margin:4rem auto;padding:2rem 1.25rem}
  .contact-layout{display:grid;grid-template-columns:minmax(140px,220px) 1fr;gap:3rem;align-items:flex-start}
  .contact-aside{padding-top:.5rem}
  .contact-title-side{font-size:clamp(1.8rem,5vw,3rem);font-weight:900;background:linear-gradient(135deg,var(--green-700),var(--green));-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;line-height:1.1;border-left:6px solid var(--green);padding-left:1rem;position:relative}
  .contact-title-side:before{content:'';position:absolute;left:-6px;top:0;bottom:0;width:6px;background:linear-gradient(180deg,var(--green),#2d5016);border-radius:3px}
  .contact-card{background:rgba(255,255,255,.95);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.3);border-radius:20px;box-shadow:0 25px 50px rgba(0,0,0,.1);padding:2.5rem;position:relative;overflow:hidden}
  .contact-card:before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--green),#6bc975);opacity:.8}
    .contact-form{margin-top:1.5rem;text-align:left}
    .form-grid{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}
    .form-field{display:flex;flex-direction:column;gap:.5rem}
    .form-field label{font-weight:800;color:var(--green-700);font-size:1rem}
    .form-field input,.form-field textarea{padding:1rem 1.25rem;border:2px solid #e2e8f0;border-radius:12px;font-size:1rem;background:rgba(255,255,255,.9);outline:none;transition:all .3s var(--ease);backdrop-filter:blur(10px)}
    .form-field input:focus,.form-field textarea:focus{border-color:var(--green);box-shadow:0 0 0 4px rgba(76,175,80,.15);background:#fff;transform:translateY(-2px)}
    .form-field input:hover,.form-field textarea:hover{border-color:rgba(76,175,80,.5);transform:translateY(-1px)}
    .form-full{grid-column:1/-1}
    .form-actions{margin-top:1.5rem}
    .form-status{margin-top:1rem;color:#64748b;font-size:1rem}
  footer{background:#fff;color:#6b7280;border-top:1px solid #e5e7eb;padding:1rem 1.25rem;margin-top:3rem}
  .footer-content{max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap}
  .footer-text{font-size:.95rem}
  .footer-tagline{font-size:.95rem;color:#6b7280}
  
  /* Modern Footer */
  .modern-footer{background:linear-gradient(135deg,#1a3d2e 0%,#2d5016 100%);color:#e8f5e8;padding:3rem 2rem 1.5rem;margin-top:4rem}
  .footer-main{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:2fr 1fr 1fr;gap:3rem;margin-bottom:2rem}
  .footer-brand h3{color:#fff;font-size:1.8rem;font-weight:900;margin-bottom:1rem;display:flex;align-items:center;gap:.5rem}
  .footer-brand p{color:#b8d4c2;line-height:1.7;margin-bottom:1.5rem;font-size:1rem}
  .footer-tags{display:flex;gap:.75rem;flex-wrap:wrap;margin-bottom:1.5rem}
  .footer-tag{background:rgba(76,175,80,.2);color:#81c784;padding:.4rem .85rem;border-radius:20px;font-size:.85rem;font-weight:600;border:1px solid rgba(76,175,80,.3)}
  .footer-section h4{color:#fff;font-size:1.1rem;font-weight:800;margin-bottom:1rem}
  .footer-links{display:flex;flex-direction:column;gap:.6rem}
  .footer-links a{color:#b8d4c2;text-decoration:none;font-weight:500;transition:color .25s ease;padding:.25rem 0}
  .footer-links a:hover{color:#81c784}
  .footer-contact{display:flex;flex-direction:column;gap:.8rem}
  .contact-item{display:flex;align-items:center;gap:.75rem;color:#b8d4c2}
  .contact-icon{width:18px;height:18px;color:#4CAF50}
  .footer-bottom{max-width:1200px;margin:0 auto;padding-top:2rem;border-top:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}
  .footer-social{display:flex;gap:1rem}
  .social-link{width:36px;height:36px;background:rgba(255,255,255,.1);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#b8d4c2;transition:all .25s ease;text-decoration:none}
  .social-link:hover{background:#4CAF50;color:#fff;transform:translateY(-2px)}
  .footer-tech{text-align:center;color:#7a9d85;font-size:.85rem;margin-top:1rem;font-style:italic}
  @media (max-width:768px){
    .footer-main{grid-template-columns:1fr;gap:2rem}
    .footer-bottom{flex-direction:column;text-align:center}
  }
  /* Minimal modal */
  .modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.4);display:none;align-items:center;justify-content:center;padding:1rem;z-index:2000}
  .modal-backdrop.show{display:flex}
  .modal-card{background:#fff;border:1px solid #e5e7eb;border-radius:14px;box-shadow:0 20px 50px rgba(0,0,0,.18);max-width:480px;width:100%;padding:1.1rem}
  .modal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:.5rem}
  .modal-title{font-weight:900;color:var(--green-700);font-size:1.05rem}
  .modal-close{background:transparent;border:none;color:#6b7280;cursor:pointer;font-size:1.25rem;line-height:1;padding:.25rem;border-radius:8px}
  .modal-close:hover{background:#f3f4f6;color:#374151}
  .modal-body{color:#4b5563;line-height:1.65;font-size:1rem}
  
  /* Success Modal */
  .success-modal{background:linear-gradient(135deg,#f0f9ff 0%,#e8f5e8 100%);border:2px solid #4CAF50;border-radius:20px;max-width:420px;padding:0;overflow:hidden;box-shadow:0 25px 60px rgba(76,175,80,.25)}
  .success-header{background:linear-gradient(135deg,#4CAF50 0%,#2d5016 100%);padding:25px;text-align:center;position:relative}
  .success-macety{width:80px;height:80px;background:#fff;border-radius:50%;margin:0 auto 15px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 20px rgba(0,0,0,.15)}
  .success-macety img{width:60px;height:60px;border-radius:50%;object-fit:cover}
  .success-title{color:#fff;font-size:1.4rem;font-weight:900;margin:0}
  .success-subtitle{color:#e8f5e8;font-size:.95rem;margin:8px 0 0;opacity:.9}
  .success-content{padding:25px;text-align:center}
  .success-message{color:#2d5016;font-size:1.1rem;font-weight:700;margin:0 0 15px}
  .success-description{color:#4a7c59;line-height:1.6;margin:0 0 20px}
  .success-actions{display:flex;gap:10px;justify-content:center}
  .btn-success{background:linear-gradient(135deg,#4CAF50,#2d5016);color:#fff;border:none;padding:12px 24px;border-radius:25px;font-weight:700;cursor:pointer;transition:transform .2s ease}
  .btn-success:hover{transform:translateY(-2px)}
  .btn-light-success{background:#f8fdf9;color:#2d5016;border:1px solid #4CAF50;padding:12px 24px;border-radius:25px;font-weight:700;cursor:pointer;transition:all .2s ease}
  .btn-light-success:hover{background:#4CAF50;color:#fff}
    /* TRANSITION UI removed per request (no visual or DOM) */
  /* LOADING MINIMAL BAR */
  .loading-indicator{position:fixed;top:0;left:0;right:0;z-index:9999;opacity:0;visibility:hidden;transition:opacity .15s var(--ease)}
  .loading-indicator.show{opacity:1;visibility:visible}
  .loading-bar-bg{width:100%;height:3px;background:transparent}
  .loading-bar-fill{height:3px;width:0%;background:linear-gradient(90deg,#6bc975,var(--green));box-shadow:0 0 10px rgba(76,175,80,.45);transition:width .18s var(--ease)}
    /* RESPONSIVE */
  @media (max-width:900px){
      .resources-container,.macety-container{grid-template-columns:1fr}
      .community-showcase{grid-template-columns:1fr}
      .contact-layout{grid-template-columns:1fr;gap:1rem}
      .contact-title-side{font-size:1.8rem}
      .form-grid{grid-template-columns:1fr}
      .nav-links{display:none}
      .hero{background-position:center center;min-height:92vh}
  .nav-actions{gap:.6rem}
      .lang-dropdown{margin-right:.4rem}
  .lang-current{padding:.45rem .7rem;font-size:.8rem;min-width:55px}
  .nav-link.login,.download-btn{height:38px;padding:0 16px;font-size:.85rem}
    }
  </style>
</head>
<body>
  <!-- NAV -->
  <nav>
    <div class="nav-content">
      <div class="logo">
        <svg width="20" height="20" viewBox="0 0 24 24" style="margin-right: 8px; vertical-align: middle;">
          <path d="M17 8C8 10 5.9 16.17 3.82 21.34L5.71 22L6.66 19.7C7.14 19.87 7.64 20 8 20C19 20 22 3 22 3C21 5 14 5.25 9 6.25C4 7.25 2 11.5 2 13.5C2 15.5 3.75 17.25 3.75 17.25C7.5 13 17 8 17 8Z" fill="#4CAF50"/>
        </svg>
        Naturafy
      </div>
      <ul class="nav-links">
        <li><a href="#" class="tab-link active" data-tab="hero" data-translate="nav.home">Inicio</a></li>
        <li><a href="#" class="tab-link" data-tab="funcionalidades" data-translate="nav.features">Funcionalidades</a></li>
        <li><a href="#" class="tab-link" data-tab="macety" data-translate="nav.macety">Macety </a></li>
        <li><a href="#" class="tab-link" data-tab="recursos" data-translate="nav.resources">Recursos</a></li>
        <li><a href="#" class="tab-link" data-tab="comunidad" data-translate="nav.community">Comunidad</a></li>
        <li><a href="#" class="tab-link" data-tab="contact" data-translate="nav.contact">Contacto</a></li>
      </ul>
      <div class="nav-actions">
        <a href="https://naturafy-front.web.app/sign-in" class="nav-link login" data-translate="nav.login">Iniciar sesión</a>
        <a href="https://naturafy-front.web.app/sign-up" class="download-btn signup" data-translate="nav.signup">Registro</a>
        <div class="lang-dropdown">
          <button class="lang-current" aria-haspopup="listbox" aria-expanded="false">ES</button>
          <ul class="lang-menu" role="listbox" aria-label="Language">
            <li role="option" data-lang="es">Español</li>
            <li role="option" data-lang="en">English</li>
            <li role="option" data-lang="zh">中文</li>
          </ul>
        </div>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <div id="hero" class="tab-content active">
    <section class="hero">
      <div class="hero-content">
        <div class="hero-text">
          <h1 data-translate="hero.title">Naturafy: tecnología que conecta con la naturaleza</h1>
          <p data-translate="hero.subtitle">Controla tu maceta inteligente desde la app y únete a un futuro más verde</p>
          <div class="cta-buttons">
            <a href="#" class="btn-primary get-it-now" data-translate="hero.btn_primary">Consíguelo ahora</a>
            <a href="#" class="btn-secondary join-family" data-translate="hero.btn_secondary">Únete a la familia Naturafy</a>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- FUNCIONALIDADES -->
  <div id="funcionalidades" class="tab-content">
    <section class="features-hero">
      <div class="features-hero-content">
        <h1 data-translate="features.title">Naturafy: Cuidado de plantas inteligente</h1>
        <p data-translate="features.subtitle">Monitoreo en tiempo real y cuidado automatizado con tecnología avanzada</p>
        <a href="#" class="btn-green" data-translate="features.learn_more">Conocer más</a>
      </div>
    </section>

    <section class="how-it-works">
      <h2 class="section-subtitle" data-translate="how.title">Cómo funciona</h2>
      <div class="steps-container">
        <div class="process-progress"><div class="progress-fill" id="progressFill"></div></div>

        <div class="step-item" data-step="1">
          <div class="step-number">1</div>
          <div class="step-text">
            <h3 data-translate="how.s1.title">Conecta tu maceta</h3>
            <p data-translate="how.s1.text">Conecta tu maceta inteligente Naturafy a tu red Wi-Fi para comenzar el monitoreo.</p>
          </div>
        </div>
        <div class="step-item" data-step="2">
          <div class="step-number">2</div>
          <div class="step-text">
            <h3 data-translate="how.s2.title">Sincroniza con la app</h3>
            <p data-translate="how.s2.text">Descarga y sincroniza tu maceta con la aplicación móvil o web de Naturafy.</p>
          </div>
        </div>
        <div class="step-item" data-step="3">
          <div class="step-number">3</div>
          <div class="step-text">
            <h3 data-translate="how.s3.title">Deja que Naturafy cuide</h3>
            <p data-translate="how.s3.text">Recibe alertas inteligentes y deja que Naturafy cuide automáticamente de tus plantas.</p>
          </div>
        </div>
      </div>

      <p class="description-text" data-translate="how.desc">
        Naturafy te permite organizar las plantas de tu hogar u oficina para mantenerlas siempre saludables.
      </p>
    </section>

    <section class="smart-care-section">
      <div class="powered-by">
        <h3 data-translate="smart.powered">Impulsado por MaceTy</h3>
        <p data-translate="smart.text">MaceTy combina IoT y sostenibilidad para el cuidado de plantas.</p>
      </div>

      <div class="smart-features-grid">
        <div class="smart-feature">
          <h4 data-translate="smart.f1.title">Monitoreo de humedad, luz y temperatura</h4>
          <p data-translate="smart.f1.text">Datos en tiempo real para entender la salud de tus plantas.</p>
        </div>
        <div class="smart-feature">
          <h4 data-translate="smart.f2.title">Riego automático según necesidad real</h4>
          <p data-translate="smart.f2.text">Asegura la cantidad de agua precisa en el momento correcto.</p>
        </div>
        <div class="smart-feature">
          <h4 data-translate="smart.f3.title">Energía solar para mayor autonomía</h4>
          <p data-translate="smart.f3.text">Operación eco-friendly con menor dependencia eléctrica.</p>
        </div>
      </div>
    </section>

    <section class="funcionalidades-details">
  <h2 class="section-subtitle" style="margin-bottom:.75rem" data-translate="feat.title">Funcionalidades</h2>

      <div class="functionality-row">
        <div class="functionality-text">
          <h3 data-translate="feat.a1.title">Alertas de humedad</h3>
          <p data-translate="feat.a1.text">Recibe notificaciones cuando tus plantas necesiten agua.</p>
        </div>
        <div class="functionality-image">
          <img src="assets/leaf-icon.png" alt="Leaf Icon" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
          <div class="icon-placeholder">
            <svg width="120" height="120" viewBox="0 0 120 120"><path d="M60 10 Q100 40 100 80 Q100 100 80 110 Q60 120 40 110 Q20 100 20 80 Q20 40 60 10" fill="#c8e6c9" stroke="#4CAF50" stroke-width="2"/><path d="M60 10 Q60 40 60 100" stroke="#4CAF50" stroke-width="2" fill="none"/></svg>
          </div>
        </div>
      </div>

      <div class="functionality-row reverse">
        <div class="functionality-image">
          <img src="assets/calendar-icon.png" alt="Calendar Icon" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
          <div class="icon-placeholder">
            <svg width="120" height="120" viewBox="0 0 120 120"><rect x="20" y="30" width="80" height="70" rx="5" fill="#e3f2fd" stroke="#2196F3" stroke-width="2"/><rect x="20" y="30" width="80" height="20" fill="#2196F3"/><path d="M50 50 L50 80 M70 65 L70 80" stroke="#2196F3" stroke-width="3" stroke-linecap="round"/></svg>
          </div>
        </div>
        <div class="functionality-text">
          <h3 data-translate="feat.a2.title">Historial de riego</h3>
          <p data-translate="feat.a2.text">Consulta fechas y cantidades para un seguimiento preciso.</p>
        </div>
      </div>

      <div class="functionality-row">
        <div class="functionality-text">
          <h3 data-translate="feat.a3.title">Control remoto de bomba</h3>
          <p data-translate="feat.a3.text">Activa o desactiva la bomba desde cualquier lugar.</p>
        </div>
        <div class="functionality-image">
          <img src="assets/pump-icon.png" alt="Pump Icon" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
          <div class="icon-placeholder">
            <svg width="120" height="120" viewBox="0 0 120 120"><rect x="30" y="40" width="60" height="50" rx="5" fill="#b2dfdb" stroke="#009688" stroke-width="2"/><circle cx="60" cy="65" r="15" fill="#009688"/><path d="M60 50 L60 35 M45 65 L30 65 M75 65 L90 65" stroke="#009688" stroke-width="3" stroke-linecap="round"/></svg>
          </div>
        </div>
      </div>

      <div class="functionality-row reverse">
        <div class="functionality-image">
          <img src="assets/solar-icon.png" alt="Solar Panel Icon" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
          <div class="icon-placeholder">
            <svg width="120" height="120" viewBox="0 0 120 120"><rect x="25" y="40" width="70" height="45" rx="3" fill="#4a7c59" stroke="#2d5016" stroke-width="2"/><path d="M25 55 L95 55 M25 70 L95 70" stroke="#2d5016" stroke-width="1"/><path d="M40 40 L40 85 M55 40 L55 85 M70 40 L70 85 M85 40 L85 85" stroke="#2d5016" stroke-width="1"/><path d="M60 20 L60 35 M40 30 L50 40 M80 30 L70 40" stroke="#FFC107" stroke-width="2" stroke-linecap="round"/></svg>
          </div>
        </div>
        <div class="functionality-text">
          <h3 data-translate="feat.a4.title">Energía solar integrada</h3>
          <p data-translate="feat.a4.text">Autonomía ecológica con panel y batería recargable.</p>
        </div>
      </div>
    </section>
  </div>

  <!-- MACETY AI -->
  <div id="macety" class="tab-content">
    <section class="macety-section">
      <div class="macety-container">
        <div class="macety-content">
          <div class="macety-badge" data-translate="ai.badge">Asistente Personalizado</div>
          <h1 class="macety-title" data-translate="ai.title">Conoce a Macety AI</h1>
          <p class="macety-subtitle" data-translate="ai.subtitle">Tu asistente virtual inteligente para el cuidado de plantas.</p>
          <div class="macety-features">
            <div class="macety-feature"><div class="feature-text" data-translate="ai.f1">Análisis predictivo del estado de tus plantas</div></div>
            <div class="macety-feature"><div class="feature-text" data-translate="ai.f2">Conversación natural e interactiva</div></div>
            <div class="macety-feature"><div class="feature-text" data-translate="ai.f3">Recomendaciones personalizadas en tiempo real</div></div>
            <div class="macety-feature"><div class="feature-text" data-translate="ai.f4">Optimización automática del cuidado</div></div>
          </div>
          <a href="#" class="macety-cta" data-translate="ai.cta">Pruebalo al comprar un dispositivo Naturafy</a>
        </div>
        <div class="macety-visual">
          <div class="macety-ai-container">
            <img src="./assets/MaceTy.png" alt="Macety AI Assistant" class="macety-image">
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- COMUNIDAD -->
  <div id="comunidad" class="tab-content">
    <section class="new-community-section">
      <div class="community-container">
        <h1 class="community-main-title" data-translate="community.title">Únete a la Comunidad Naturafy</h1>
        <div class="community-showcase">
          <div class="showcase-card">
            <div class="showcase-image green-bg"><img src="./assets/plant.webp" class="showcase-plant" alt=""><div class="plant-brand">NATURAFY</div></div>
            <div class="showcase-info"><h3>Elena's Urban Oasis</h3><p>Elena transformó su apartamento con Naturafy.</p></div>
          </div>
          <div class="showcase-card">
            <div class="showcase-image light-bg"><img src="./assets/comunity2.jpeg" class="showcase-plant center" alt=""></div>
            <div class="showcase-info"><h3>Carlos's Balcony Garden</h3><p>Carlos creó un oasis verde en su balcón.</p></div>
          </div>
          <div class="showcase-card">
            <div class="showcase-image sage-bg"><img src="./assets/comunity3.jpg" class="showcase-plant tall" alt=""></div>
            <div class="showcase-info"><h3>Sofia's Indoor Jungle</h3><p>Sofía llevó la naturaleza al interior con su maceta inteligente.</p></div>
          </div>
        </div>
        <p class="community-tagline" data-translate="community.tagline">Compartamos juntos nuestra pasión verde. — Macety</p>
        <div class="community-actions">
          <a href="#" class="btn-green" data-translate="community.explore">Explorar foros</a>
          <a href="#" class="btn-light" data-translate="community.joinfb">Unirse al grupo de Facebook</a>
        </div>
      </div>
    </section>
  </div>

  <!-- RECURSOS -->
  <div id="recursos" class="tab-content">
    <section class="resources-section">
      <div class="resources-container">
        <div class="resources-content">
          <h1 class="resources-title" data-translate="resources.title">Lleva a Macety contigo: móvil y web</h1>
          <p class="resources-description" data-translate="resources.subtitle">Usa el asistente en tu teléfono y en la app web. Notificaciones, historial y alertas en tiempo real.</p>
          <div class="store-buttons">
            <a href="#" class="store-btn" data-translate="resources.ios">Descargar en iOS</a>
            <a href="#" class="store-btn" data-translate="resources.android">Descargar en Android</a>
          </div>
        </div>
        <div class="resources-visual">
          <img src="./assets/Macety-movil.png" alt="Macety Assistant" class="macety-img">
        </div>
      </div>
    </section>
  </div>

  <!-- CONTACTO -->
  <div id="contact" class="tab-content">
    <section class="contact-section">
      <div class="contact-layout">
        <aside class="contact-aside">
          <h2 class="contact-title-side" data-translate="contact.title">Contacta Naturafy</h2>
        </aside>
        <div class="contact-card">
        <form id="contactForm" class="contact-form" novalidate>
          <div class="form-grid">
            <div class="form-field">
              <label for="firstName" data-translate="form.firstName">Nombre</label>
              <input id="firstName" name="firstName" type="text" placeholder="Nombre" data-ph="form.firstName" required>
            </div>
            <div class="form-field">
              <label for="lastName" data-translate="form.lastName">Apellido</label>
              <input id="lastName" name="lastName" type="text" placeholder="Apellido" data-ph="form.lastName" required>
            </div>
            <div class="form-field">
              <label for="telefono" data-translate="form.phone">Teléfono</label>
              <input id="telefono" name="telefono" type="tel" placeholder="999 888 777" data-ph="form.phone" maxlength="11" pattern="[0-11]{11}">
            </div>
            <div class="form-field">
              <label for="email" data-translate="form.email">Correo</label>
              <input id="email" name="email" type="email" placeholder="Correo" data-ph="form.email" required>
            </div>
            <div class="form-field form-full">
              <label for="message" data-translate="form.message">Mensaje</label>
              <textarea id="message" name="message" rows="5" placeholder="Escribe tu mensaje" data-ph="form.message" required></textarea>
            </div>
          </div>
          <div class="form-actions">
            <button type="submit" class="btn-green" data-translate="form.submit">Enviar</button>
          </div>
          <p id="formStatus" class="form-status" role="status" aria-live="polite"></p>
        </form>
        </div>
      </div>
    </section>
    <footer class="modern-footer">
      <div class="footer-main">
        <!-- Brand Section -->
        <div class="footer-brand">
          <h3>
            <svg width="24" height="24" viewBox="0 0 24 24" style="fill: #4CAF50;">
              <path d="M17 8C8 10 5.9 16.17 3.82 21.34L5.71 22L6.66 19.7C7.14 19.87 7.64 20 8 20C19 20 22 3 22 3C21 5 14 5.25 9 6.25C4 7.25 2 11.5 2 13.5C2 15.5 3.75 17.25 3.75 17.25C7.5 13 17 8 17 8Z"/>
            </svg>
            Naturafy
          </h3>
          <p data-translate="footer.description">
            Naturafy es la plataforma completa de tecnología IoT que revoluciona 
            el cuidado de plantas. Unifica monitoreo inteligente, riego automático 
            y asistencia IA en una solución accesible desde web y móvil.
          </p>
          <div class="footer-tags">
            <span class="footer-tag">IoT Confiable</span>
            <span class="footer-tag">IA Integrada</span>
            <span class="footer-tag">Sostenible</span>
          </div>
        </div>

        <!-- Quick Links -->
        <div class="footer-section">
          <h4 data-translate="footer.quick_links">Enlaces Rápidos</h4>
          <div class="footer-links">
            <a href="#" class="tab-link" data-tab="hero" data-translate="nav.home">Inicio</a>
            <a href="#" class="tab-link" data-tab="funcionalidades" data-translate="nav.features">Funcionalidades</a>
            <a href="#" class="tab-link" data-tab="macety" data-translate="nav.macety">Macety AI</a>
            <a href="#" class="tab-link" data-tab="recursos" data-translate="nav.resources">Recursos</a>
            <a href="#" class="tab-link" data-tab="comunidad" data-translate="nav.community">Comunidad</a>
            <a href="#" data-translate="footer.download">Descargar App</a>
          </div>
        </div>

        <!-- Contact -->
        <div class="footer-section">
          <h4 data-translate="footer.contact_title">Contacto</h4>
          <div class="footer-contact">
            <div class="contact-item">
              <svg class="contact-icon" fill="currentColor" viewBox="0 0 20 20">
                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
              </svg>
              <span>contacto@naturafy.com</span>
            </div>
            <div class="contact-item">
              <svg class="contact-icon" fill="currentColor" viewBox="0 0 20 20">
                <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
              </svg>
              <span>+51 987 654 321</span>
            </div>
            <div class="contact-item">
              <svg class="contact-icon" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
              </svg>
              <div>
                <div>Lima, Perú</div>
                <div style="font-size:.85rem;opacity:.8">Enfocados en ganadería peruana</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom Section -->
      <div class="footer-bottom">
        <div>
          <p style="margin:0;color:#b8d4c2">
            © <span id="footerYear"></span> Naturafy. <span data-translate="footer.rights">Todos los derechos reservados.</span>
          </p>
        </div>
        
        <div class="footer-social">
          <a href="#" class="social-link" aria-label="GitHub">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
            </svg>
          </a>
          <a href="#" class="social-link" aria-label="LinkedIn">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
              <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/>
            </svg>
          </a>
          <a href="#" class="social-link" aria-label="Twitter">
            <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
              <path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"/>
            </svg>
          </a>
        </div>
      </div>

      <!-- Tech Footer -->
      <div class="footer-tech">
        ✨ <span data-translate="footer.tech">Conectamos tradición ganadera con soluciones tecnológicas • Desarrollado con React + Flutter + Cloud  + Móvil</span>
      </div>
    </footer>
  </div>

  

  <!-- LOADING -->
  <div class="loading-indicator" id="loadingIndicator">
    <div class="loading-bar-bg">
      <div class="loading-bar-fill" id="loadingBar"></div>
    </div>
  </div>

  <!-- Minimal modal for notices -->
  <div class="modal-backdrop" id="noticeModal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-card" role="document">
      <div class="modal-header">
        <h3 class="modal-title" id="noticeTitle">Naturafy</h3>
        <button class="modal-close" id="noticeClose" aria-label="Close">×</button>
      </div>
      <div class="modal-body" id="noticeBody">...</div>
    </div>
  </div>

  <!-- Success Modal -->
  <div class="modal-backdrop" id="successModal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="success-modal" role="document">
      <div class="success-header">
        <div class="success-macety">
          <img src="./assets/Macety-movil.png" alt="Macety" />
        </div>
        <h3 class="success-title">¡Mensaje Enviado!</h3>
        <p class="success-subtitle">Macety ha recibido tu mensaje</p>
      </div>
      <div class="success-content">
        <p class="success-message">🌱 ¡Gracias por contactarnos!</p>
        <p class="success-description">
          Hemos recibido tu mensaje correctamente. Nuestro equipo se pondrá en contacto contigo muy pronto.
        </p>
        <div class="success-actions">
          <button class="btn-success" id="successOk">Perfecto</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    /* =================== I18N =================== */
    const translations = {
      es: {
        "meta.title":"Naturafy - Cuidado inteligente de plantas",
        "meta.description":"Tecnología que conecta con la naturaleza. Controla tu maceta inteligente desde la app y únete a un futuro más verde.",
  "nav.home":"Inicio","nav.features":"Funcionalidades","nav.macety":"Macety","nav.resources":"Recursos","nav.community":"Comunidad","nav.contact":"Contacto","nav.download":"Descargar","nav.login":"Iniciar sesión","nav.signup":"Registro",
        "transition.label":"Pasando a","loading.text":"Continúa",
        "section.hero":"Inicio","section.funcionalidades":"Funcionalidades","section.recursos":"Recursos","section.comunidad":"Comunidad","section.contact":"Contacto","section.macety":"Macety AI",
        "hero.title":"Naturafy: tecnología que conecta con la naturaleza",
        "hero.subtitle":"Controla tu maceta inteligente desde la app y únete a un futuro más verde",
        "hero.btn_primary":"Consíguelo ahora","hero.btn_secondary":"Únete a la familia Naturafy",
        "features.title":"Naturafy: Cuidado de plantas inteligente","features.subtitle":"Monitoreo en tiempo real y cuidado automatizado con tecnología avanzada","features.learn_more":"Conocer más",
        "how.title":"Cómo funciona","how.s1.title":"Conecta tu maceta","how.s1.text":"Conecta tu maceta inteligente Naturafy a tu red Wi-Fi para comenzar el monitoreo.",
        "how.s2.title":"Sincroniza con la app","how.s2.text":"Descarga y sincroniza tu maceta con la aplicación móvil o web de Naturafy.",
        "how.s3.title":"Deja que Naturafy cuide","how.s3.text":"Recibe alertas inteligentes y deja que Naturafy cuide automáticamente de tus plantas.",
        "how.desc":"Naturafy te permite organizar las plantas de tu hogar u oficina para mantenerlas siempre saludables.","how.cta":"Comenzar ahora",
        "smart.title":"Naturafy: Smart Plant Care","smart.powered":"Impulsado por MaceTy","smart.text":"MaceTy combina IoT y sostenibilidad para el cuidado de plantas.",
        "smart.f1.title":"Monitoreo de humedad, luz y temperatura","smart.f1.text":"Datos en tiempo real para entender la salud de tus plantas.",
        "smart.f2.title":"Riego automático según necesidad real","smart.f2.text":"Asegura la cantidad de agua precisa en el momento correcto.",
        "smart.f3.title":"Energía solar para mayor autonomía","smart.f3.text":"Operación eco-friendly con menor dependencia eléctrica.",
        "feat.title":"Funcionalidades","feat.a1.title":"Alertas de humedad","feat.a1.text":"Recibe notificaciones cuando tus plantas necesiten agua.",
        "feat.a2.title":"Historial de riego","feat.a2.text":"Consulta fechas y cantidades para un seguimiento preciso.",
        "feat.a3.title":"Control remoto de bomba","feat.a3.text":"Activa o desactiva la bomba desde cualquier lugar.",
    "feat.a4.title":"Energía solar integrada","feat.a4.text":"Autonomía ecológica con panel y batería recargable.",
    "ai.badge":"Asistente Personalizado","ai.title":"Conoce a Macety","ai.subtitle":"Tu asistente virtual inteligente para el cuidado de plantas.","ai.f1":"Análisis predictivo del estado de tus plantas","ai.f2":"Conversación natural e interactiva","ai.f3":"Recomendaciones personalizadas en tiempo real","ai.f4":"Optimización automática del cuidado","ai.cta":"Pruebalo al comprar un dispositivo Naturafy",
  "community.title":"Únete a la Comunidad Naturafy","community.explore":"Explorar foros","community.joinfb":"Unirse al grupo de Facebook","community.tagline":"Compartamos juntos nuestra pasión verde. — Macety",
  "resources.title":"Lleva a Macety contigo: móvil y web","resources.subtitle":"Usa el asistente en tu teléfono y en la app web. Notificaciones, historial y alertas en tiempo real.","resources.download":"Descargar la app","resources.ios":"Descargar en iOS","resources.android":"Descargar en Android","resources.web":"Abrir app web","notice.dev":"App en desarrollo. Pronto vendrán cosas nuevas.","notice.events":"Pronto nuevos eventos y comunidad." ,
        "contact.title":"Contacta Naturafy","contact.subtitle":"Disponible en móvil y web, siempre con Macety como asistente virtual","contact.text":"Estamos listos para ayudarte con cualquier consulta sobre Naturafy y el cuidado de tus plantas.","contact.cta":"Contáctanos",
        "footer.rights":"Todos los derechos reservados.","footer.tagline":"Tecnología que conecta con la naturaleza 🌱","footer.description":"Naturafy es la plataforma completa de tecnología IoT que revoluciona el cuidado de plantas. Unifica monitoreo inteligente, riego automático y asistencia IA en una solución accesible desde web y móvil.","footer.quick_links":"Enlaces Rápidos","footer.contact_title":"Contacto","footer.download":"Descargar App","footer.tech":"Conectamos tradición ganadera con soluciones tecnológicas • Desarrollado con React + Flutter + Cloud ☁️ + Móvil 📱",
        "form.firstName":"Nombre","form.lastName":"Apellido","form.phone":"Teléfono","form.email":"Correo","form.message":"Mensaje","form.submit":"Enviar","form.success":"¡Gracias! Hemos recibido tu mensaje.","form.error":"Por favor, completa los campos requeridos correctamente."
      },
      en: {
        "meta.title":"Naturafy - Smart Plant Care",
        "meta.description":"Technology that connects with nature. Control your smart pot from the app and join a greener future.",
  "nav.home":"Home","nav.features":"Features","nav.macety":"Macety","nav.resources":"Resources","nav.community":"Community","nav.contact":"Contact","nav.download":"Download","nav.login":"Log in","nav.signup":"Sign up",
        "transition.label":"Moving to","loading.text":"Continue",
        "section.hero":"Home","section.funcionalidades":"Features","section.recursos":"Resources","section.comunidad":"Community","section.contact":"Contact","section.macety":"Macety AI",
        "hero.title":"Naturafy: technology that connects with nature",
        "hero.subtitle":"Control your smart pot from the app and join a greener future",
        "hero.btn_primary":"Get it now","hero.btn_secondary":"Join the Naturafy family",
        "features.title":"Naturafy: Smart Plant Care","features.subtitle":"Real-time monitoring and automated care with advanced technology","features.learn_more":"Learn more",
        "how.title":"How it works","how.s1.title":"Connect your planter","how.s1.text":"Connect your Naturafy smart pot to your Wi-Fi network to start monitoring.",
        "how.s2.title":"Sync with the app","how.s2.text":"Download and sync your pot with the Naturafy mobile or web app.",
        "how.s3.title":"Let Naturafy care","how.s3.text":"Get smart alerts and let Naturafy care for your plants automatically.",
        "how.desc":"Organize plants at home or office and keep them healthy with Naturafy.","how.cta":"Start now",
        "smart.title":"Naturafy: Smart Plant Care","smart.powered":"Powered by MaceTy","smart.text":"MaceTy blends IoT and sustainability for plant care.",
        "smart.f1.title":"Moisture, light, and temperature monitoring","smart.f1.text":"Real-time insights to understand plant health.",
        "smart.f2.title":"Automatic watering by real need","smart.f2.text":"Ensure the right amount of water at the right time.",
        "smart.f3.title":"Solar energy for autonomy","smart.f3.text":"Eco-friendly operation with less grid dependence.",
        "feat.title":"Features","feat.a1.title":"Moisture alerts","feat.a1.text":"Get notified when your plants need water.",
        "feat.a2.title":"Watering history","feat.a2.text":"See dates and amounts for precise tracking.",
        "feat.a3.title":"Remote pump control","feat.a3.text":"Turn the pump on/off from anywhere.",
    "feat.a4.title":"Integrated solar power","feat.a4.text":"Eco autonomy with panel and rechargeable battery.",
    "ai.badge":"Personalized Assistant","ai.title":"Meet Macety","ai.subtitle":"Your intelligent virtual assistant for plant care.","ai.f1":"Predictive analysis of plant status","ai.f2":"Natural, interactive conversation","ai.f3":"Real-time personalized recommendations","ai.f4":"Automatic care optimization","ai.cta":"Try it when you buy a Naturafy device",
  "community.title":"Join the Naturafy Community","community.explore":"Explore forums","community.joinfb":"Join Facebook group","community.tagline":"Let’s share our green passion together! — Macety",
  "resources.title":"Take Macety with you: mobile and web","resources.subtitle":"Use the assistant on your phone and the web app. Real‑time notifications, history, and alerts.","resources.download":"Download the app","resources.ios":"Download on iOS","resources.android":"Download on Android","resources.web":"Open web app","notice.dev":"App in development. New things coming soon.","notice.events":"New community events coming soon." ,
        "contact.title":"Contact Naturafy","contact.subtitle":"Available in mobile and web versions, always with Macety as your virtual assistant","contact.text":"We’re ready to help with any questions about Naturafy and plant care.","contact.cta":"Contact us",
        "footer.rights":"All rights reserved.","footer.tagline":"Technology that connects with nature 🌱","footer.description":"Naturafy is the complete IoT technology platform that revolutionizes plant care. Unifies smart monitoring, automatic watering and AI assistance in an accessible solution from web and mobile.","footer.quick_links":"Quick Links","footer.contact_title":"Contact","footer.download":"Download App","footer.tech":"We connect livestock tradition with technological solutions • Developed with React + Flutter + Cloud ☁️ + Mobile 📱",
        "form.firstName":"First name","form.lastName":"Last name","form.phone":"Phone","form.email":"Email","form.message":"Message","form.submit":"Send","form.success":"Thanks! We’ve received your message.","form.error":"Please complete the required fields correctly."
      },
      /* Chino simplificado (zh) */
      zh: {
        "meta.title":"Naturafy - 智能植物护理",
        "meta.description":"连接自然的技术。通过应用控制你的智能花盆，共同迈向更绿色的未来。",
  "nav.home":"首页","nav.features":"功能","nav.macety":"Macety","nav.resources":"资源","nav.community":"社区","nav.contact":"联系","nav.download":"下载","nav.login":"登录","nav.signup":"注册",
        "transition.label":"切换到","loading.text":"继续",
        "section.hero":"首页","section.funcionalidades":"功能","section.recursos":"资源","section.comunidad":"社区","section.contact":"联系","section.macety":"Macety AI",
        "hero.title":"Naturafy：连接自然的技术",
        "hero.subtitle":"通过应用控制智能花盆，加入更绿色的未来",
        "hero.btn_primary":"立即获取","hero.btn_secondary":"加入 Naturafy 家庭",
        "features.title":"Naturafy：智能植物护理","features.subtitle":"实时监测与自动化护理","features.learn_more":"了解更多",
        "how.title":"如何运作","how.s1.title":"连接花盆","how.s1.text":"将 Naturafy 智能花盆连接到 Wi‑Fi 开始监测。",
        "how.s2.title":"同步应用","how.s2.text":"下载并与手机或网页版应用同步。",
        "how.s3.title":"交给 Naturafy","how.s3.text":"接收智能提醒，让 Naturafy 自动照料植物。",
        "how.desc":"在家或办公室有序管理植物，让它们始终健康。","how.cta":"立即开始",
        "smart.title":"Naturafy：智能植物护理","smart.powered":"由 MaceTy 驱动","smart.text":"MaceTy 融合物联网与可持续理念，助力植物护理。",
        "smart.f1.title":"土壤湿度/光照/温度监测","smart.f1.text":"实时数据助你了解植物健康。",
        "smart.f2.title":"按需自动浇水","smart.f2.text":"在正确时间提供精准水量。",
        "smart.f3.title":"太阳能供电","smart.f3.text":"更环保，对电网依赖更少。",
        "feat.title":"功能","feat.a1.title":"湿度提醒","feat.a1.text":"需要浇水时及时提醒。",
        "feat.a2.title":"浇水记录","feat.a2.text":"查看日期和水量，便于精确管理。",
        "feat.a3.title":"远程泵控","feat.a3.text":"在任何地方开启/关闭。",
  "feat.a4.title":"内置太阳能","feat.a4.text":"配备电池，持续运行。",
  "ai.badge":"个性化助手","ai.title":"认识 Macety ","ai.subtitle":"你的智能植物助手。","ai.f1":"预测性分析","ai.f2":"自然对话","ai.f3":"实时个性化建议","ai.f4":"自动优化护理","ai.cta":"购买 Naturafy 设备后试用",
  "community.title":"加入 Naturafy 社区","community.explore":"探索论坛","community.joinfb":"加入 Facebook 小组","community.tagline":"一起分享我们对绿色的热爱！— Macety",
  "resources.title":"随身携带 Macety：移动端与网页版","resources.subtitle":"在手机与网页应用中使用助手。实时通知、历史与警报。","resources.download":"下载应用","resources.ios":"在 iOS 下载","resources.android":"在 Android 下载","resources.web":"打开网页版应用","notice.dev":"应用开发中，更多新功能即将到来。","notice.events":"社区活动即将推出。" ,
        "contact.title":"联系 Naturafy","contact.subtitle":"移动与网页版可用，Macety 相伴","contact.text":"我们随时解答你关于 Naturafy 与植物护理的问题。","contact.cta":"联系我们",
        "footer.rights":"版权所有。","footer.tagline":"连接自然的技术 🌱","footer.description":"Naturafy 是完整的物联网技术平台，彻底改变植物护理。统一智能监测、自动浇水和AI助手，提供网页和移动端解决方案。","footer.quick_links":"快速链接","footer.contact_title":"联系方式","footer.download":"下载应用","footer.tech":"我们将畜牧传统与技术解决方案相结合 • 使用 React + Flutter + 云计算 ☁️ + 移动端 📱 开发",
        "form.firstName":"名字","form.lastName":"姓氏","form.phone":"电话","form.email":"邮箱","form.message":"留言","form.submit":"发送","form.success":"感谢！我们已收到你的信息。","form.error":"请正确填写必填字段。"
      }
    };

    const sections = ['hero','funcionalidades','macety','recursos','comunidad','contact'];
    let currentSectionIndex = 0;
  let currentLanguage = localStorage.getItem('naturafy-language') || 'es';
  if(currentLanguage === 'zh_py') currentLanguage = 'zh';

    function applyLangAttrs(){
  document.documentElement.lang = currentLanguage === 'zh' ? 'zh' : currentLanguage;
      document.documentElement.dir = 'ltr';
      document.querySelector('title').textContent = t('meta.title');
      document.querySelector('meta[name="description"]').setAttribute('content', t('meta.description'));
    }

    function t(key){ return (translations[currentLanguage] && translations[currentLanguage][key]) || translations['es'][key] || key; }

    function updateLanguageDisplay(){
      document.querySelectorAll('[data-translate]').forEach(el=>{
        const key = el.getAttribute('data-translate');
        if(t(key)) el.textContent = t(key);
      });
      // placeholders for inputs/textarea using data-ph keys
      document.querySelectorAll('[data-ph]').forEach(el=>{
        const key = el.getAttribute('data-ph');
        const value = t(key);
        if(value) el.setAttribute('placeholder', value);
      });
      document.querySelectorAll('.lang-btn').forEach(btn=>btn.classList.toggle('active', btn.dataset.lang===currentLanguage));
      applyLangAttrs();
    }

    function changeLanguage(lang){
      currentLanguage = lang;
      localStorage.setItem('naturafy-language',lang);
      updateLanguageDisplay();
  // no transition UI to update
    }

    // init language
    updateLanguageDisplay();

    // handlers de idioma
    // legacy buttons no longer used; now dropdown below

    // store buttons: show dev notice
    function openNotice(messageKey, title='Naturafy'){
      const modal = document.getElementById('noticeModal');
      const body = document.getElementById('noticeBody');
      const titleEl = document.getElementById('noticeTitle');
      if(!modal||!body||!titleEl) return;
      titleEl.textContent = title;
      body.textContent = t(messageKey);
      modal.classList.add('show');
      modal.setAttribute('aria-hidden','false');
    }
    function closeNotice(){
      const modal = document.getElementById('noticeModal');
      if(!modal) return;
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
    }
    // modal events
    (function(){
      const modal = document.getElementById('noticeModal');
      const closeBtn = document.getElementById('noticeClose');
      closeBtn?.addEventListener('click', closeNotice);
      modal?.addEventListener('click', (e)=>{ if(e.target===modal) closeNotice(); });
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeNotice(); });
    })();

    // Success modal functions
    function showSuccessModal(){
      const modal = document.getElementById('successModal');
      if(!modal) return;
      modal.classList.add('show');
      modal.setAttribute('aria-hidden','false');
    }
    function closeSuccessModal(){
      const modal = document.getElementById('successModal');
      if(!modal) return;
      modal.classList.remove('show');
      modal.setAttribute('aria-hidden','true');
    }
    // Success modal events
    (function(){
      const modal = document.getElementById('successModal');
      const okBtn = document.getElementById('successOk');
      okBtn?.addEventListener('click', closeSuccessModal);
      modal?.addEventListener('click', (e)=>{ if(e.target===modal) closeSuccessModal(); });
      document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeSuccessModal(); });
    })();

    function wireStoreButtons(){
      const iosBtn = document.querySelector('.store-btn[data-translate="resources.ios"]');
      const andBtn = document.querySelector('.store-btn[data-translate="resources.android"]');
      [iosBtn, andBtn].forEach(btn=>{
        if(!btn) return;
        btn.addEventListener('click', (e)=>{
          e.preventDefault();
          openNotice('notice.dev', 'App');
        }, { once: false });
      });
    }
    wireStoreButtons();

    // Contact form handling (sends SMS via Netlify function)
    const contactForm = document.getElementById('contactForm');
    if(contactForm){
      // Formateo automático del teléfono peruano
      const telefonoInput = document.getElementById('telefono');
      if(telefonoInput){
        telefonoInput.addEventListener('input', (e) => {
          let value = e.target.value.replace(/\D/g, ''); // Solo números
          if(value.length > 9) value = value.substring(0, 9); // Máximo 9 dígitos
          
          // Formatear con espacios: 999 888 777
          if(value.length >= 6) {
            value = value.substring(0, 3) + ' ' + value.substring(3, 6) + ' ' + value.substring(6);
          } else if(value.length >= 3) {
            value = value.substring(0, 3) + ' ' + value.substring(3);
          }
          
          e.target.value = value;
        });

        // Evitar caracteres no numéricos
        telefonoInput.addEventListener('keypress', (e) => {
          if(!/[0-9]/.test(e.key) && !['Backspace', 'Delete', 'Tab', 'Enter', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {
            e.preventDefault();
          }
        });
      }

      contactForm.addEventListener('submit', async (e)=>{
        e.preventDefault();
        const form = e.currentTarget;
        const statusEl = document.getElementById('formStatus');
        const submitBtn = form.querySelector('button[type="submit"]');
        const data = new FormData(form);
        
        const firstName = (data.get('firstName')||'').toString().trim();
        const lastName = (data.get('lastName')||'').toString().trim();
        const telefonoRaw = (data.get('telefono')||'').toString().trim();
        const email = (data.get('email')||'').toString().trim();
        const message = (data.get('message')||'').toString().trim();
        
        // Procesar teléfono: agregar +51 automáticamente si es número peruano de 9 dígitos
        let telefono = '';
        if(telefonoRaw){
          const numeroLimpio = telefonoRaw.replace(/\D/g, ''); // Quitar espacios y caracteres
          if(numeroLimpio.length === 9){
            telefono = '+51' + numeroLimpio; // Agregar prefijo peruano
          } else if(numeroLimpio.startsWith('51') && numeroLimpio.length === 11){
            telefono = '+' + numeroLimpio; // Ya tiene el 51, solo agregar +
          } else if(telefonoRaw.startsWith('+')){
            telefono = telefonoRaw; // Ya tiene formato internacional
          } else {
            statusEl.textContent = 'El teléfono debe tener 9 dígitos';
            statusEl.style.color = '#b45309';
            return;
          }
        }
        
        // Validaciones básicas
        const emailOk = /.+@.+\..+/.test(email);
        if(!firstName || !lastName || !emailOk || !message){
          statusEl.textContent = t('form.error');
          statusEl.style.color = '#b45309';
          return;
        }

        // Deshabilitar botón durante envío
        const originalText = submitBtn.textContent;
        submitBtn.disabled = true;
        submitBtn.textContent = 'Enviando...';
        statusEl.textContent = '';
        statusEl.style.color = '';

        try {
          // Intentar enviar SMS si hay teléfono
          if(telefono){
            const smsResponse = await fetch('/.netlify/functions/enviar-sms', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({
                nombre: firstName,
                email: email,
                telefono: telefono,
                mensaje: message
              })
            });

            const smsResult = await smsResponse.json();
            
            if(smsResult.success){
              showSuccessModal();
            } else {
              showSuccessModal();
            }
          } else {
            // Sin teléfono, solo mostrar modal de éxito
            showSuccessModal();
          }
          
          form.reset();
          updateLanguageDisplay(); // reset placeholders after clear
          
        } catch (error) {
          console.error('Error enviando SMS:', error);
          showSuccessModal();
          form.reset();
          updateLanguageDisplay();
        } finally {
          // Rehabilitar botón
          submitBtn.disabled = false;
          submitBtn.textContent = originalText;
        }
      });
    }

    /* =================== Navegación entre secciones =================== */
    const tabLinks = document.querySelectorAll('.tab-link');
    const tabContents = document.querySelectorAll('.tab-content');

    // transition indicator removed (no-op)

    function changeSection(index, fromDirection='top'){
      tabLinks.forEach(l=>l.classList.remove('active'));
      tabContents.forEach(c=>c.classList.remove('active'));
      const id = sections[index];
      document.querySelector(`[data-tab="${id}"]`)?.classList.add('active');
      document.getElementById(id)?.classList.add('active');
      currentSectionIndex = index;
      window.scrollTo({top: fromDirection==='bottom' ? document.body.scrollHeight : 0, behavior:'smooth'});
      // controlar animación de pasos según sección activa
      if(id==='funcionalidades') {
        startStepsAnimation(true);
      } else {
        stopStepsAnimation();
      }
    }

    function showSection(index, withTransition=false, direction='top'){
      // direct change; no transition overlay
      changeSection(index, direction);
    }

    tabLinks.forEach((link)=>{
      link.addEventListener('click',(e)=>{
        e.preventDefault();
        const tabId = link.getAttribute('data-tab');
        const idx = sections.indexOf(tabId);
        if(idx!==-1) showSection(idx,false);
      });
    });

    // Footer navigation links
    document.querySelectorAll('.footer-links .tab-link').forEach((link)=>{
      link.addEventListener('click',(e)=>{
        e.preventDefault();
        const tabId = link.getAttribute('data-tab');
        const idx = sections.indexOf(tabId);
        if(idx!==-1) showSection(idx,false);
      });
    });

    // Route CTAs to contact section
    function goContact(){
      const idx = sections.indexOf('contact');
      if(idx!==-1) showSection(idx,false);
    }
    document.querySelector('.get-it-now')?.addEventListener('click',(e)=>{ e.preventDefault(); goContact(); });
    document.querySelector('.join-family')?.addEventListener('click',(e)=>{ e.preventDefault(); goContact(); });
    document.querySelector('.macety-cta')?.addEventListener('click',(e)=>{ e.preventDefault(); goContact(); });
    document.querySelector('[data-translate="community.explore"]')?.addEventListener('click',(e)=>{ e.preventDefault(); openNotice('notice.events','Comunidad'); });

    // Language dropdown interactions
    (function(){
      const dropdown = document.querySelector('.lang-dropdown');
      if(!dropdown) return;
      const currentBtn = dropdown.querySelector('.lang-current');
      const menu = dropdown.querySelector('.lang-menu');
      const syncLabel = ()=>{
        const langText = {
          'es': 'ES',
          'en': 'EN', 
          'zh': 'ZH'
        };
        currentBtn.textContent = langText[currentLanguage] || 'ZH';
      };
      syncLabel();
      currentBtn.addEventListener('click', ()=>{
        const expanded = currentBtn.getAttribute('aria-expanded')==='true';
        currentBtn.setAttribute('aria-expanded', (!expanded).toString());
        currentBtn.classList.toggle('open');
        menu.classList.toggle('show');
      });
      menu.querySelectorAll('li').forEach(item=>{
        item.addEventListener('click', ()=>{
          const lang = item.getAttribute('data-lang');
          changeLanguage(lang);
          syncLabel();
          currentBtn.setAttribute('aria-expanded','false');
          currentBtn.classList.remove('open');
          menu.classList.remove('show');
          // Update active state
          menu.querySelectorAll('li').forEach(li => li.classList.remove('active'));
          item.classList.add('active');
        });
      });
      document.addEventListener('click', (e)=>{
        if(!dropdown.contains(e.target)){
          currentBtn.setAttribute('aria-expanded','false');
          currentBtn.classList.remove('open');
          menu.classList.remove('show');
        }
      });
    })();

    /* =================== Loading circular mejorado =================== */
  const loadingIndicator = document.getElementById('loadingIndicator');
  const loadingBar = document.getElementById('loadingBar');

    let scrollProgress = 0;
    let isLoadingNext = false;
    const scrollThreshold = 100; // “resistencia” para cambiar

    function setLoading(pct){
      const clamped = Math.min(100, Math.max(0, pct));
      loadingIndicator.classList.toggle('show', clamped>0);
      if(loadingBar) loadingBar.style.width = clamped + '%';
    }

    function isAtBottom(){ return window.innerHeight + window.scrollY >= document.body.offsetHeight - 10; }
    function isAtTop(){ return window.scrollY <= 10; }

    window.addEventListener('wheel',(e)=>{
      if(e.deltaY>0){
        if(isAtBottom() && currentSectionIndex < sections.length-1){
          e.preventDefault();
          isLoadingNext ||= true; scrollProgress += Math.abs(e.deltaY)*0.5;
          const pct = Math.min(100, (scrollProgress/scrollThreshold)*100); setLoading(pct);
          if(pct>=100){ setLoading(0); isLoadingNext=false; scrollProgress=0; showSection(currentSectionIndex+1,true,'top'); }
        } else if(isLoadingNext){ setLoading(0); isLoadingNext=false; scrollProgress=0; }
      } else {
        if(isAtTop() && currentSectionIndex>0){
          e.preventDefault();
          isLoadingNext ||= true; scrollProgress += Math.abs(e.deltaY)*0.5;
          const pct = Math.min(100, (scrollProgress/scrollThreshold)*100); setLoading(pct);
          if(pct>=100){ setLoading(0); isLoadingNext=false; scrollProgress=0; showSection(currentSectionIndex-1,true,'bottom'); }
        } else if(isLoadingNext){ setLoading(0); isLoadingNext=false; scrollProgress=0; }
      }
    });

    document.addEventListener('keydown',(e)=>{
      if(['ArrowDown','PageDown'].includes(e.key) && currentSectionIndex<sections.length-1){ e.preventDefault(); showSection(currentSectionIndex+1,true,'top'); }
      if(['ArrowUp','PageUp'].includes(e.key) && currentSectionIndex>0){ e.preventDefault(); showSection(currentSectionIndex-1,true,'bottom'); }
    });

    /* =================== Animación “Cómo funciona” =================== */
    let stepsRunning = false;
    function startStepsAnimation(force=false){
      const container = document.querySelector('.how-it-works');
      const steps = document.querySelectorAll('.step-item');
      const progressFill = document.getElementById('progressFill');
      if(!container || steps.length===0) return;

      if(stepsRunning && !force) return;
      stepsRunning = true;
      let currentStep = 0;
      function animate(){
        steps.forEach(s=>s.classList.remove('active','completed'));
        for(let i=0;i<currentStep;i++){
          setTimeout(()=>{ steps[i].classList.add('completed'); progressFill.style.width = ((i+1)/steps.length*100)+'%'; }, i*120);
        }
        if(currentStep<steps.length){
          setTimeout(()=>{
            steps[currentStep].classList.add('active');
            progressFill.style.width = ((currentStep+1)/steps.length*100)+'%';
          }, currentStep*120+120);
        }
        setTimeout(()=>{
          currentStep++;
          if(currentStep>steps.length){
            progressFill.style.width='100%';
            setTimeout(()=>{ currentStep=0; progressFill.style.width='0%'; }, 1200);
          } else { /* loop continúa */ }
        }, 900);
      }

      // arranca el ciclo y manténlo mientras la sección esté activa
      animate();
      clearInterval(window.__stepsTimer);
      window.__stepsTimer = setInterval(()=>{
        // si salimos de la sección, detén
        const active = document.getElementById('funcionalidades')?.classList.contains('active');
        if(!active){ stopStepsAnimation(); return; }
        animate();
      }, 3200);
    }

    function stopStepsAnimation(){
      stepsRunning = false;
      clearInterval(window.__stepsTimer);
    }

  // Primera carga: no transition element to update
  // Footer year
  const yearEl = document.getElementById('year');
  const footerYearEl = document.getElementById('footerYear');
  const currentYear = new Date().getFullYear();
  if(yearEl){ yearEl.textContent = currentYear; }
  if(footerYearEl){ footerYearEl.textContent = currentYear; }
  </script>
</body>
</html>
